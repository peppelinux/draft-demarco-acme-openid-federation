<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Automatic Certificate Management Environment (ACME) with OpenID Federation 1.0</title>
<meta content="Giuseppe De Marco" name="author">
<meta content="Brandon Pitman" name="author">
<meta content="
       The Automatic Certificate Management Environment (ACME) protocol
allows server operators to obtain TLS certificates for their websites,
based on a demonstration of control over the website's domain via a
fully-automated challenge/response protocol. 
       OpenID Federation 1.0 defines how to build a trust infrastructure using a
trusted third-party model. It uses a trust evaluation mechanism to attest the
possession of public keys, protocol specific metadata and various administrative
and technical information related to a specific entity. 
       This document defines how X.509 certificates associated with a given OpenID
Federation Entity can be
issued by an X.509 Certification Authority through the ACME protocol to the
organizations which are part of a federation built on top of OpenID
Federation 1.0. 
    " name="description">
<meta content="xml2rfc 3.28.1" name="generator">
<meta content="OpenID Federation" name="keyword">
<meta content="ACME" name="keyword">
<meta content="draft-demarco-acme-openid-federation-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.28.1
    Python 3.12.10
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.3.8
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 80.9.0
    wcwidth 0.2.13
-->
<link href="draft-demarco-acme-openid-federation.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">ACME OpenID Federation</td>
<td class="right">June 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">De Marco &amp; Pitman</td>
<td class="center">Expires 5 December 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Automated Certificate Management Environment</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-demarco-acme-openid-federation-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-06-03" class="published">3 June 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-12-05">5 December 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. De Marco</div>
<div class="org">independent</div>
</div>
<div class="author">
      <div class="author-name">B. Pitman</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Automatic Certificate Management Environment (ACME) with OpenID Federation 1.0</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The Automatic Certificate Management Environment (ACME) protocol
allows server operators to obtain TLS certificates for their websites,
based on a demonstration of control over the website's domain via a
fully-automated challenge/response protocol.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">OpenID Federation 1.0 defines how to build a trust infrastructure using a
trusted third-party model. It uses a trust evaluation mechanism to attest the
possession of public keys, protocol specific metadata and various administrative
and technical information related to a specific entity.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">This document defines how X.509 certificates associated with a given OpenID
Federation Entity can be
issued by an X.509 Certification Authority through the ACME protocol to the
organizations which are part of a federation built on top of OpenID
Federation 1.0.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-demarco-acme-openid-federation/">https://datatracker.ietf.org/doc/draft-demarco-acme-openid-federation/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Automated Certificate Management Environment Working Group mailing list (<span><a href="mailto:acme@ietf.org">mailto:acme@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/acme/">https://mailarchive.ietf.org/arch/browse/acme/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/acme/">https://www.ietf.org/mailman/listinfo/acme/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/peppelinux/draft-demarco-acme-openid-federation">https://github.com/peppelinux/draft-demarco-acme-openid-federation</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 December 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-target-audience-and-use-cas" class="internal xref">Target Audience and Use Cases</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-certificates-issued-using-o" class="internal xref">Certificates issued using OpenID Federation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-protocol-flow" class="internal xref">Protocol Flow</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-preconditions" class="internal xref">Preconditions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-discovery" class="internal xref">Discovery</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-entity-configuration-metada" class="internal xref">Entity Configuration Metadata</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="auto internal xref">6.4.1</a>.  <a href="#name-issuer-metadata" class="internal xref">Issuer Metadata</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="auto internal xref">6.4.2</a>.  <a href="#name-requestor-metadata" class="internal xref">Requestor Metadata</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-openid-federation-identifie" class="internal xref">OpenID Federation Identifier</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-neworder-request" class="internal xref">newOrder Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-openid-federation-challenge" class="internal xref">OpenID Federation Challenge Type</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7.2.1">
                    <p id="section-toc.1-1.6.2.7.2.1.1"><a href="#section-6.7.1" class="auto internal xref">6.7.1</a>.  <a href="#name-csr-and-certificate-fields" class="internal xref">CSR and Certificate Fields</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-publication-of-the-certific" class="internal xref">Publication of the Certificates within the Federation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-certificate-lifecycle-and-r" class="internal xref">Certificate Lifecycle and Revocation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-errors" class="internal xref">Errors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-acme-registry-group" class="internal xref">ACME Registry Group</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#section-11.1.1" class="auto internal xref">11.1.1</a>.  <a href="#name-acme-identifier-types" class="internal xref">ACME Identifier Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#section-11.1.2" class="auto internal xref">11.1.2</a>.  <a href="#name-acme-validation-methods" class="internal xref">ACME Validation Methods</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.3">
                    <p id="section-toc.1-1.11.2.1.2.3.1"><a href="#section-11.1.3" class="auto internal xref">11.1.3</a>.  <a href="#name-acme-error-types" class="internal xref">ACME Error Types</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-assign-x509-pkix-other-name" class="internal xref">Assign X.509 PKIX Other Name</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes extensions to the ACME protocol that integrate with
OpenID Federation 1.0, allowing an ACME server to issue X.509 Certificates
associated with a given OpenID Federation Entity.
X.509 Certificates can be provided to one or more organizations,
without having pre-established any direct relationship or any stipulation of a
contract.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">In a multilateral federation, composed by thousands of entities belonging to
different organizations, all the participants adhere to the same regulation or
trust framework. OpenID Federation 1.0 allows each participant to recognize
other participants using a trust evaluation mechanism, with RESTful services and
cryptographic materials.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Considering that a requestor is an entity requesting the issuance of an X.509
Certificate to a server and the issuer is the ACME server that validates the
entitlements of the requestor before issuing the X.509 Certificate, this
specification defines how ACME and OpenID Federation 1.0 can be integrated to
allow efficient issuance of X.509 Certificates to a requestor via the
introduction of a new ACME challenge type. The new challenge type extends the
ACME protocol in the following ways:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">
          <p id="section-1-4.1.1">It associates a cryptographic key with an OpenID Entity, rather than a domain,
since the authentication and authorization of the requestor is asserted with
OpenID Federation 1.0.<a href="#section-1-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-4.2">
          <p id="section-1-4.2.1">It defines how to use and validate a basic OpenID Federation component, called
Entity Configuration, that is a signed JWT published in a well-known resource
(<code>/.well-known/openid-federation</code>).<a href="#section-1-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-4.3">
          <p id="section-1-4.3.1">It defines how the OpenID Federation Subordinate Statements can be used for the
publication of the X.509 Certificates, by a Superior Entity, that
were previously issued with ACME.<a href="#section-1-4.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-4.4">
          <p id="section-1-4.4.1">It extends the ACME newOrder resource, as defined in
<span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.4" class="relref">Section 7.4</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>, defining a new payload identifier type called
<code>openid-federation</code>.<a href="#section-1-4.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="target-audience-and-use-cases">
<section id="section-2">
      <h2 id="name-target-audience-and-use-cas">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-target-audience-and-use-cas" class="section-name selfRef">Target Audience and Use Cases</a>
      </h2>
<p id="section-2-1">The audience of the document are the multilateral federations that require
automatic issuance of X.509 Certificates using an infrastructure of trust based
on OpenID Federation 1.0.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This specification can be implemented by:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-3.1">
          <p id="section-2-3.1.1">Federation Entities that join to a federation staging area using HTTP only
transport to attest themselves as trustworthy, and then retrieve X.509
Certificates for their official HTTPS Federation Entity ID.<a href="#section-2-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-3.2">
          <p id="section-2-3.2.1">Federation Entities that want to ask for and obtain X.509 Certificate for use
in other protocols.<a href="#section-2-3.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-3-1">The terms "Federation Entity", "Trust Anchor", "Entity Configuration",
"Subordinate Statement", "Superior Entity", "Immediate Superior Entity",
"Federation Entity Keys", "Trust Mark" and "Trust Chain" used in this
document are defined in <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-1.2" class="relref">Section 1.2</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>.
The term "CSR" used in this document is defined in <span>[<a href="#RFC2986" class="cite xref">RFC2986</a>]</span>. The
term Certification Authority used in this document is defined in <span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span>. The
terms "ACME Client" and "ACME Server" are defined in <span>[<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The specification also defines the following terms:<a href="#section-3-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-3">
        <dt id="section-3-3.1">Requestor:</dt>
        <dd style="margin-left: 1.5em" id="section-3-3.2">
          <p id="section-3-3.2.1">A Federation Entity which wants to request X.509 certificates. It operates
a web server for hosting its Entity Configuration. It also operates an ACME
client, extended according to this document.<a href="#section-3-3.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-3.3">Certificate Issuer:</dt>
        <dd style="margin-left: 1.5em" id="section-3-3.4">
          <p id="section-3-3.4.1">A Federation Entity which issues X.509 certificates. It operates a web server
for hosting its Entity Configuration. It also operates an ACME server,
extended according to this document.<a href="#section-3-3.4.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-4">
      <h2 id="name-conventions-and-definitions">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-4-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="certificates-issued-using-openid-federation">
<section id="section-5">
      <h2 id="name-certificates-issued-using-o">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-certificates-issued-using-o" class="section-name selfRef">Certificates issued using OpenID Federation</a>
      </h2>
<p id="section-5-1">The Certificate Issuer establishes the authorization of a Federation Entity to obtain
X.509 Certificates for the identifier configured in the Requestor's Entity
Configuration.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">The Certificate Issuer establishes if a Federation Entity is eligible to obtain X.509
Certificates for the identifier configured in the Requestor's Entity
Configuration.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">The cryptographic keys published within the Requestor's Entity Configuration
are used to satisfy the Certificate Issuer's challenge.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">The protocol assumes the following discovery preconditions are met. The
Issuer has the guarantee that:<a href="#section-5-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-5">
<li id="section-5-5.1">
          <p id="section-5-5.1.1">The Requestor controls the private key related to the public part published
in its Entity Configuration.<a href="#section-5-5.1.1" class="pilcrow">¶</a></p>
</li>
        <li id="section-5-5.2">
          <p id="section-5-5.2.1">The Requestor controls its identifier, having published the
Entity Configuration.<a href="#section-5-5.2.1" class="pilcrow">¶</a></p>
</li>
      </ol>
</section>
</div>
<div id="protocol-flow">
<section id="section-6">
      <h2 id="name-protocol-flow">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-protocol-flow" class="section-name selfRef">Protocol Flow</a>
      </h2>
<p id="section-6-1">This section presents the protocol flow. The protocol flow is subdivided in the
following phases:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">
          <p id="section-6-2.1.1"><strong>Discovery</strong>, the Requestor obtains the available CAs within a federation,
inspecting the ACME issuer entity types.<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.2">
          <p id="section-6-2.2.1"><strong>Order request</strong>, the Requestor requests a X.509 Certificate to a Certificate Issuer using
the ACME protocol.<a href="#section-6-2.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="preconditions">
<section id="section-6.1">
        <h3 id="name-preconditions">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-preconditions" class="section-name selfRef">Preconditions</a>
        </h3>
<p id="section-6.1-1">The protocol requires the following preconditions are met.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-2">
<li id="section-6.1-2.1">
            <p id="section-6.1-2.1.1">The Requestor and the Issuer <span class="bcp14">MUST</span> publish their Entity Configuration as
defined in <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-9" class="relref">Section 9</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>.<a href="#section-6.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-2.2">
            <p id="section-6.1-2.2.1">The Requestor and the Issuer <span class="bcp14">MUST</span> be able to establish a Trust Chain to each
other, as defined in <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-4" class="relref">Section 4</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>,
from their respective Trust Anchors.<a href="#section-6.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-2.3">
            <p id="section-6.1-2.3.1">The Issuer <span class="bcp14">MUST</span> implement an ACME server, extended according to this document.<a href="#section-6.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-2.4">
            <p id="section-6.1-2.4.1">The Requestor <span class="bcp14">MUST</span> publish the entity type <code>acme_requestor</code> in its Entity
Configuration, according to <a href="#requestor-metadata" class="auto internal xref">Section 6.4.2</a>.<a href="#section-6.1-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.1-2.5">
            <p id="section-6.1-2.5.1">The Issuer <span class="bcp14">MUST</span> publish the entity type <code>acme_issuer</code> in its Entity
Configuration, according to <a href="#issuer-metadata" class="auto internal xref">Section 6.4.1</a>.<a href="#section-6.1-2.5.1" class="pilcrow">¶</a></p>
</li>
        </ol>
</section>
</div>
<div id="discovery">
<section id="section-6.2">
        <h3 id="name-discovery">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-discovery" class="section-name selfRef">Discovery</a>
        </h3>
<p id="section-6.2-1">The Requestor's ACME client may either be configured to use a particular ACME
server, or to automatically discover a Certificate Issuer through the
federation.
Requestors that use discovery <span class="bcp14">MAY</span> select any entity with an entity type of
<code>acme_issuer</code>, or they may additionally require that such entities have a
valid Trust Mark with a particular Trust Mark Identifier.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview">
<section id="section-6.3">
        <h3 id="name-overview">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-6.3-1">
<li id="section-6.3-1.1">
            <p id="section-6.3-1.1.1">The Requestor checks if its superior Federation Entity supports the ACME
protocol for OpenID Federation 1.0. If not, the Requestor starts the
discovery process to find Issuers within the federation.<a href="#section-6.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.3-1.2">
            <p id="section-6.3-1.2.1">The Requestor requests and obtains a new nonce from the Certificate Issuer,
by sending a HTTP HEAD request to the Issuer's <code>newNonce</code> resource,
as described in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.2" class="relref">Section 7.2</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-6.3-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.3-1.3">
            <p id="section-6.3-1.3.1">The Requestor creates an ACME Account with the Issuer, as described in
<span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.3" class="relref">Section 7.3</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-6.3-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.3-1.4">
            <p id="section-6.3-1.4.1">The Requestor begins the X.509 Certificate issuance process by sending a HTTP POST
request to the Certificate Issuer's <code>newOrder</code> resource,
as described in <a href="#neworder-request" class="auto internal xref">Section 6.6</a>, and follows the remainder of the
ACME protocol as specified in <span>[<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>, using the new challenge defined in
<a href="#challenge-type" class="auto internal xref">Section 6.7</a>.<a href="#section-6.3-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li id="section-6.3-1.5">
            <p id="section-6.3-1.5.1">The Certificate Issuer evaluates the trust to the Requestor by checking if it
is part of its federation. If not the CSR request <span class="bcp14">MUST</span> be rejected, with
error type <code>urn:ietf:params:acme:error:openIDFederationEntity</code>,
and an error code of <code>invalid_trust_chain</code>
(<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-8.9" class="relref">Section 8.9</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>).<a href="#section-6.3-1.5.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-6.3-2">There are two ways the Certificate Issuer is able to check if a
Requestor is part of the federation, these are listed below:<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-3.1">
            <p id="section-6.3-3.1.1">The Requestor adds the Trust Chain JWT header parameter related to itself,
as described in <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-4.3" class="relref">Section 4.3</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>.
This option is <span class="bcp14">RECOMMENDED</span> since it reduces the effort of the Certificate
Issuer in evaluating the trust to the Requestor.<a href="#section-6.3-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-3.2">
            <p id="section-6.3-3.2.1">The Requestor doesn't add the Trust Chain in the request. The Certificate Issuer
<span class="bcp14">MUST</span> start Federation Entity Discovery as described in
<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-9" class="relref">Section 9</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>
to obtain the Trust Chain related to the Requestor.<a href="#section-6.3-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.3-4">The following diagram illustrates a successful interaction between Issuer and
Requestor to retrieve an X.509 Certificate. The diagram assumes the Requestor
has already discovered the Issuer, and the Requestor has already created an
ACME account with the Issuer.<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="section-6.3-5">
<pre>
,-----------------.
|Requestor's      |  ,-----------.
|OpenID Federation|  |Requestor's|               ,------------------------.  ,-----------------------.
| Web Server      |  |ACME Client|               |X.509 Certificate Issuer|  |Federation Trust Anchor|
`--------+--------'  `-----+-----'               `-----------+------------'  `-----------+-----------'
        |                  |           POST /acme/new-order  |                           |
        |                  |---------------------------------&gt;                           |
        |                  |                                 |                           |
        |                  |Authorization at                 |                           |
        |                  |/acme/authz/[authz-id]           |                           |
        |                  |Finalize at                      |                           |
        |                  | /acme/order/[order-id]/finalize |                           |
        |                  |&lt;- - - - - - - - - - - - - - - - -                           |
        |                  |                                 |                           |
        |                  | POST /acme/authz/[authz-id]     |                           |
        |                  |---------------------------------&gt;                           |
        |                  |                                 |                           |
        |                  |  openid-federation-01 Challenge |                           |
        |                  |  at /acme/chall/[chall-id]      |                           |
        |                  |&lt;- - - - - - - - - - - - - - - - -                           |
        |                  |                                 |                           |
        |                  ----.                             |                           |
        |                  |   | Sign challenge token        |                           |
        |                  |   | with private key            |                           |
        |                  &lt;---'                             |                           |
        |                  |                                 |                           |
        |                  | POST /acme/chall/[chall-id]     |                           |
        |                  | with signed                     |                           |
        |                  | token and entity ID             |                           |
        |                  | set to Requestor's ID           |                           |
        |                  |---------------------------------&gt;                           |
        |                  |                                 |                           |
        |                  |      Challenge validation       |                           |
        |                  |      beginning                  |                           |
        |                  |&lt;- - - - - - - - - - - - - - - - -                           |
        |                  |                                 |                           |
        |          GET /.well-known/openid-federation        |                           |
        |&lt;----------------------------------------------------                           |
        |                  |                                 |                           |
        |           Requestor's Entity Configuration         |                           |
        | - - -  - - - - - - - - - - - - - - - - - - - - - - &gt;                           |
        |                  |                                 |                           |
        |                  |           ______________________________________________________
        |                  |           ! OPT  /  If requestor didn't provide Trust Chain |  !
        |                  |           !_____/               |                           |  !
        |                  |           !                     |  Determine Trust Chain    |  !
        |                  |           !                     |  from Issuer's            |  !
        |                  |           !                     |  Trust Anchor to Requestor|  !
        |                  |           !                     |  (Federation Discovery)   |  !
        |                  |           !                     | &lt;------------------------&gt;|  !
        |                  |           !~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!
        |                  |                                 |                           |
        |                  |                                 |----.                      |
        |                  |                                 |    | Evaluate Trust Chain |
        |                  |                                 |&lt;---'                      |
        |                  |                                 |                           |
        |                  |                                 |----.                      |
        |                  |                                 |    | Check                |
        |                  |                                 |    | Entity Configuration |
        |                  |                                 |    | sub matches          |
        |                  |                                 |    | Entity identifier    |
        |                  |                                 |&lt;---' in the order         |
        |                  |                                 |                           |
        |                  |                                 |                           |
        |                  |                                 |----.                      |
        |                  |                                 |    | Check challenge      |
        |                  |                                 |    | sig is signed        |
        |                  |                                 |    | with key in          |
        |                  |                                 |&lt;---' Entity Configuration |
        |                  |                                 |                           |
        |  _________________________________________________________________________     |
        |  ! LOOP  /  Poll until authz status                |                      !    |
        |  !      /  is "valid" or "invalid"                 |                      !    |
        |  !_____/         |                                 |                      !    |
        |  !               |    POST-as-GET                  |                      !    |
        |  !               |    /acme/authz/[authz-id]       |                      !    |
        |  !               |---------------------------------&gt;                      !    |
        |  !               |                                 |                      !    |
        |  !               |           Current authz status  |                      !    |
        |  !               |&lt;---------------------------------                      !    |
        |  !~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!    |
        |                  |                                 |                           |
        |                  |                                 |                           |
        |  ___________________________________________________________________________   |
        |  ! OPT  /  If the authz status is "valid"          |                        !  |
        |  !_____/         |                                 |                        !  |
        |  !               | POST                            |                        !  |
        |  !               | /acme/orders/[order-id]/finalize|                        !  |
        |  !               | with CSR                        |                        !  |
        |  !               |---------------------------------&gt;                        !  |
        |  !               |                                 |                        !  |
        |  !               |                                 |----.                   !  |
        |  !               |                                 |    | Check CSR         !  |
        |  !               |                                 |    | validity          !  |
        |  !               |                                 |    | according to      !  |
        |  !               |                                 |    | protocol          !  |
        |  !               |                                 |&lt;---' and CA policy     !  |
        |  !               |                                 |                        !  |
        |  !               |                                 |                        !  |
        |  !               |  Order object with certificate  |                        !  |
        |  !               |  at /acme/cert/[cert-id]        |                        !  |
        |  !               |&lt;- - - - - - - - - - - - - - - - -                        !  |
        |  !               |                                 |                        !  |
        |  !               |       POST /acme/cert/[cert-id] |                        !  |
        |  !               |---------------------------------&gt;                        !  |
        |  !               |                                 |                        !  |
        |  !               |  Newly issued X.509 Certificate |                        !  |
        |  !               |&lt;- - - - - - - - - - - - - - - - -                        !  |
        |  !~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~!  |
,--------+--------.  ,-----+-----.               ,-----------+------------.  ,-----------+-----------.
|Requestor's      |  |Requestor's|               |X.509 Certificate Issuer|  |Federation Trust Anchor|
|OpenID Federation|  |ACME Client|               `------------------------'  `-----------------------'
| Web Server      |  `-----------'
`-----------------'
</pre><a href="#section-6.3-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="entity-configuration-metadata">
<section id="section-6.4">
        <h3 id="name-entity-configuration-metada">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-entity-configuration-metada" class="section-name selfRef">Entity Configuration Metadata</a>
        </h3>
<p id="section-6.4-1">This section describes the metadata a Requestor and Issuer <span class="bcp14">MUST</span> publish in their
respective Entity Configurations.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<div id="issuer-metadata">
<section id="section-6.4.1">
          <h4 id="name-issuer-metadata">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-issuer-metadata" class="section-name selfRef">Issuer Metadata</a>
          </h4>
<p id="section-6.4.1-1">The Issuer <span class="bcp14">MUST</span> publish its Entity Configuration including the <code>acme_issuer</code>
Entity Type metadata within it. The <code>acme_issuer</code> metadata contains one parameter,
<code>directory_url</code>, which is the URL of the ACME Directory, as defined in
<span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.1.1" class="relref">Section 7.1.1</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-6.4.1-1" class="pilcrow">¶</a></p>
<p id="section-6.4.1-2">Requestors <span class="bcp14">MUST</span> use the ACME Directory provided in the Issuer's Entity
Configuration for client configuration of ACME endpoints.<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
<p id="section-6.4.1-3">The following is a non-normative example of an Entity Configuration including
the <code>acme_issuer</code> metadata:<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.4.1-4">
<pre>
{
  "iss": "https://issuer.example.com",
  "sub": "https://issuer.example.com",
  "iat": 1516239022,
  "exp": 1516298022,
  "jwks": {
    "keys": [
      {
        "kty": "RSA",
        "alg": "RS256",
        "use": "sig",
        "kid": "NzbLsXh8uDCcd-6MNwXF4W_7noWXFZAfHkxZsRGC9Xs",
        "n": "pnXBOusEANuug6ewezb9J_...",
        "e": "AQAB"
      }
    ]
  },
  "metadata": {
    "acme_issuer": {
      "directory_url": "https://issuer.example.com/acme/directory"
    }
  }
}
</pre><a href="#section-6.4.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="requestor-metadata">
<section id="section-6.4.2">
          <h4 id="name-requestor-metadata">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-requestor-metadata" class="section-name selfRef">Requestor Metadata</a>
          </h4>
<p id="section-6.4.2-1">The Requestor <span class="bcp14">MUST</span> publish in its Entity Configuration an <code>acme_requestor</code>
metadata containing a JWK set, according to
<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-5.2.1" class="relref">Section 5.2.1</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>.
The keys in the set are used to respond to ACME challenges.<a href="#section-6.4.2-1" class="pilcrow">¶</a></p>
<p id="section-6.4.2-2">The following is a non-normative example of an Entity Configuration including
the <code>acme_requestor</code> metadata and using the <code>jwks</code> metadata parameter.<a href="#section-6.4.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.4.2-3">
<pre>
{
  "iss": "https://requestor.example.com",
  "sub": "https://requestor.example.com",
  "iat": 1516239022,
  "exp": 1516298022,
  "jwks": {
    "keys": [
      {
        "kty": "RSA",
        "alg": "RS256",
        "use": "sig",
        "kid": "NzbLsXh8uDCcd-6MNwXF4W_7noWXFZAfHkxZsRGC9Xs",
        "n": "pnXBOusEANuug6ewezb9J_...",
        "e": "AQAB"
      }
    ]
  },
  "metadata": {
    "acme_requestor": {
      "jwks": {
        "keys": [
          {
            "kty": "RSA",
            "kid": "SUdtUndEWVY2cUFDeD...",
            "n": "y_Zc8rByfeRIC9fFZrD...",
            "e": "AQAB"
          },
          {
            "kty": "EC",
            "kid": "MFYycG1raTI4SkZvVDBIMF9CNGw3VEZYUmxQLVN2T21nSWlkd3",
            "crv": "P-256",
            "x": "qAOdPQROkHfZY1daGofOmSNQWpYK8c9G2m2Rbkpbd4c",
            "y": "G_7fF-T8n2vONKM15Mzj4KR_shvHBxKGjMosF6FdoPY"
          }
        ]
      }
    }
  }
}
</pre><a href="#section-6.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-6.4.2-4">The Issuer <span class="bcp14">MUST</span> only use the Requestor's <code>acme_requestor</code> to validate an ACME
challenge. Therefore, after completing the challenge, the Requestor <span class="bcp14">MAY</span> remove
the <code>acme_requestor</code> metadata from its Entity Configuration.<a href="#section-6.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="identifier-type">
<section id="section-6.5">
        <h3 id="name-openid-federation-identifie">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-openid-federation-identifie" class="section-name selfRef">OpenID Federation Identifier</a>
        </h3>
<p id="section-6.5-1">This document defines a new ACME identifier type for OpenID Federation entities, <code>openid-federation</code>,
whose value is the <code>sub</code> parameter of the requestor's Entity Configuration,
as defined in <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-1.2" class="relref">Section 1.2</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="neworder-request">
<section id="section-6.6">
        <h3 id="name-neworder-request">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-neworder-request" class="section-name selfRef">newOrder Request</a>
        </h3>
<p id="section-6.6-1">The Requestor begins certificate issuance by sending a HTTP POST request to the
Issuer's <code>newOrder</code> resource, as specified in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.4" class="relref">Section 7.4</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">A non-normative example of an ACME newOrder request:<a href="#section-6.6-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.6-3">
<pre>
   POST /acme/new-order HTTP/1.1
   Host: issuer.example.com
   Content-Type: application/jose+json

   {
     "protected": base64url({
       "alg": "ES256",
       "kid": "https://issuer.example.com/acme/acct/evOfKhNU60wg",
       "nonce": "5XJ1L3lEkMG7tR6pA00clA",
       "url": "https://issuer.example.com/acme/new-order"
     }),
     "payload": base64url({
       "identifiers": [
         {
           "type": "openid-federation",
           "value": "https://requestor.example.com"
         }
       ],
       "notBefore": "2016-01-01T00:04:00+04:00",
       "notAfter": "2016-01-08T00:04:00+04:00"
     }),
     "signature": "H6ZXtGjTZyUnPeKn...wEA4TklBdh3e454g"
   }
</pre><a href="#section-6.6-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="challenge-type">
<section id="section-6.7">
        <h3 id="name-openid-federation-challenge">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-openid-federation-challenge" class="section-name selfRef">OpenID Federation Challenge Type</a>
        </h3>
<p id="section-6.7-1">The OpenID Federation challenge type allows a Requestor to prove control of a
Federation Entity using the trust evaluation mechanism provided by
<span>[<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>. The Requestor demonstrates control of a cryptographic public key
published in its OpenID Federation Entity Configuration.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
<p id="section-6.7-2">The openid-federation-01 ACME challenge object has the following format:<a href="#section-6.7-2" class="pilcrow">¶</a></p>
<p id="section-6.7-3">type (required, string):  The string "openid-federation-01"<a href="#section-6.7-3" class="pilcrow">¶</a></p>
<p id="section-6.7-4">token (required, string):  A random value that uniquely identifies the
    challenge. This value <span class="bcp14">MUST</span> have at least 128 bits of entropy. It <span class="bcp14">MUST NOT</span>
    contain any characters outside the base64url alphabet as described in
    <span><a href="https://rfc-editor.org/rfc/rfc4648#section-5" class="relref">Section 5</a> of [<a href="#RFC4648" class="cite xref">RFC4648</a>]</span>. Trailing '=' padding characters <span class="bcp14">MUST</span> be stripped.
    See <span>[<a href="#RFC4086" class="cite xref">RFC4086</a>]</span> for additional information on randomness requirements.<a href="#section-6.7-4" class="pilcrow">¶</a></p>
<p id="section-6.7-5">trustAnchors (optional, array of string):  An array of strings containing
    Entity Identifiers of the Issuer's Trust Anchors. When solving the
    challenge, the Requestor can construct a Trust Chain from itself to one of
    these Trust Anchors. It is <span class="bcp14">RECOMMENDED</span> that the Issuer includes this field
    to make it easier for the Requestor to construct a Trust Chain.<a href="#section-6.7-5" class="pilcrow">¶</a></p>
<p id="section-6.7-6">A non-normative example of a challenge with <code>trustAnchors</code> specified:<a href="#section-6.7-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.7-7">
<pre>
   {
     "type": "openid-federation-01",
     "url": "https://issuer.example.com/acme/chall/prV_B7yEyA4",
     "status": "pending",
     "token": "LoqXcYV8q5ONbJQxbmR7SCTNo3tiAXDfowyjxAjEuX0",
     "trustAnchors": [
       "https://trust-anchor-1.example.com",
       "https://trust-anchor-2.example.com"
     ]
   }
</pre><a href="#section-6.7-7" class="pilcrow">¶</a>
</div>
<p id="section-6.7-8">The <code>openid-federation-01</code> challenge <span class="bcp14">MUST NOT</span> be used to issue X.509 Certificates
for any identifiers except <code>openid-federation</code> identifiers.<a href="#section-6.7-8" class="pilcrow">¶</a></p>
<p id="section-6.7-9">The <code>openid-federation</code> identifier <span class="bcp14">MUST NOT</span> be validated except by the
<code>openid-federation-01</code> challenge.<a href="#section-6.7-9" class="pilcrow">¶</a></p>
<p id="section-6.7-10">The Requestor responds to the challenge with an object with the following format:<a href="#section-6.7-10" class="pilcrow">¶</a></p>
<p id="section-6.7-11">sig (required, string):  the compact JSON serialization (as described in
    <span><a href="https://rfc-editor.org/rfc/rfc7515#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>) of a JWS, signing the key authorization
    encoded in UTF-8.
    The key authorization is computed from the token in the challenge and the
    Requestor's ACME account key, as defined in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-8.1" class="relref">Section 8.1</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.
    The signature must be made by one of the keys published in the Requestor's
    <code>acme_requestor</code> metadata in its Entity Configuration, as specified in
    <a href="#requestor-metadata" class="auto internal xref">Section 6.4.2</a>.
    The JWS <span class="bcp14">MUST</span> include a <code>kid</code> header parameter corresponding to the key used
    to sign the key authorization and a <code>typ</code> header parameter set to
    "signed-acme-challenge+jwt".<a href="#section-6.7-11" class="pilcrow">¶</a></p>
<p id="section-6.7-12">trustChain (optional, array of string):  an array of strings containing signed
    JWTs, representing a Trust Chain from the Requestor to one of the Issuer's
    Trust Anchors (see <span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-4" class="relref">Section 4</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>).
    The Entity Configuration of the Trust Chain subject <span class="bcp14">MUST</span> contain
    <code>acme_requestor</code> metadata that is valid under the Trust Chain's resolved
    metadata policy (<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-6.1" class="relref">Section 6.1</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>)
    and contains the key used to compute <code>sig</code>.
    It is <span class="bcp14">RECOMMENDED</span> that the Requestor includes this field.
    If the Requestor cannot construct a Trust Chain to one of the Trust Anchors
    indicated by the Issuer, or if no Trust Anchors were indicated, it <span class="bcp14">MAY</span> use
    some other Trust Anchor that it believes the Issuer trusts.
    If the Requestor cannot construct a Trust Chain to any Trust Anchor, it <span class="bcp14">MAY</span>
    omit the <code>trustChain</code> field from the challenge response.<a href="#section-6.7-12" class="pilcrow">¶</a></p>
<p id="section-6.7-13">A non-normative example for an authorization with <code>trustChain</code> specified:<a href="#section-6.7-13" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.7-14">
<pre>
   POST /acme/chall/prV_B7yEyA4
   Host: issuer.example.com
   Content-Type: application/jose+json

   {
     "protected": base64url({
       "alg": "ES256",
       "kid": "https://issuer.example.com/acme/acct/evOfKhNU60wg",
       "nonce": "UQI1PoRi5OuXzxuX7V7wL0",
       "url": "https://issuer.example.com/acme/chall/prV_B7yEyA4"
     }),
     "payload": base64url({
      "sig": "wQAvHlPV1tVxRW0vZUa4BQ...",
      "trustChain": ["eyJhbGciOiJFU...", "eyJhbGci..."]
     }),
     "signature": "Q1bURgJoEslbD1c5...3pYdSMLio57mQNN4"
   }
</pre><a href="#section-6.7-14" class="pilcrow">¶</a>
</div>
<p id="section-6.7-15">On receiving a challenge response, the Certificate Issuer verifies that the
Requestor is trusted. If the Requestor did not provide a <code>trustChain</code>, the
Issuer <span class="bcp14">MUST</span> perform Federation Entity Discovery
(<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-10" class="relref">Section 10</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>) to obtain a Trust Chain
for the Requestor.<a href="#section-6.7-15" class="pilcrow">¶</a></p>
<p id="section-6.7-16">Once it has obtained a Trust Chain, the Issuer verifies:<a href="#section-6.7-16" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.7-17.1">
            <p id="section-6.7-17.1.1">That the Requestor's <code>acme_requestor</code> metadata is valid under the Trust
Chain's resolved metadata policy
(<span><a href="https://openid.net/specs/openid-federation-1_0-41.html#section-6.1" class="relref">Section 6.1</a> of [<a href="#OPENID-FED" class="cite xref">OPENID-FED</a>]</span>).<a href="#section-6.7-17.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.7-17.2">
            <p id="section-6.7-17.2.1">That the requested <code>openid-federation</code> identifier value matches the <code>sub</code>
parameter of the Requestor's Entity Configuration.<a href="#section-6.7-17.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.7-17.3">
            <p id="section-6.7-17.3.1">That the <code>sig</code> field of the payload is the compact JSON serialization of a JWS
signing the key authorization, signed with a key from the Requestor's
<code>acme_requestor</code> metadata (<a href="#requestor-metadata" class="auto internal xref">Section 6.4.2</a>) whose <code>kid</code> matches the
<code>kid</code> claim in the challenge response.<a href="#section-6.7-17.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.7-18">If all of the above verifications succeed, then the validation is successful.
Otherwise, it has failed. In either case, the Certificate Issuer responds
according to <span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.5.1" class="relref">Section 7.5.1</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-6.7-18" class="pilcrow">¶</a></p>
<p id="section-6.7-19">A non-normative example for the challenge object post-validation:<a href="#section-6.7-19" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.7-20">
<pre>
   {
     "type": "openid-federation-01",
     "url": "https://issuer.example.com/acme/chall/prV_B7yEyA4",
     "status": "valid",
     "validated": "2024-10-01T12:05:13.72Z",
     "token": "LoqXcYV8q5ONbJQxbmR7SCTNo3tiAXDfowyjxAjEuX0"
   }
</pre><a href="#section-6.7-20" class="pilcrow">¶</a>
</div>
<div id="openidfed-othername-id">
<section id="section-6.7.1">
          <h4 id="name-csr-and-certificate-fields">
<a href="#section-6.7.1" class="section-number selfRef">6.7.1. </a><a href="#name-csr-and-certificate-fields" class="section-name selfRef">CSR and Certificate Fields</a>
          </h4>
<p id="section-6.7.1-1">Depending on the Certificate Issuer's X.509 Certificate profile, the CSR and
X.509 Certificate <span class="bcp14">MAY</span> associate the X.509 Certificate to the Federation Entity by
including the Entity ID in the X.509 Certificate.
To do so, the Issuer includes a Subject Alternative Name extension
containing an <code>otherName</code> with
a <code>type-id</code> of <code>id-on-OpenIdFederationEntityId</code>.
The value of the name is an Octet String
containing the UTF-8 encoding of the Entity ID
(i.e., the URI in the corresponding <code>openid-federation</code> identifier
from the <code>newOrder</code> request).<a href="#section-6.7.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.7.1-2">
<pre>
   id-on-OpenIdFederationEntityId OBJECT IDENTIFIER ::= { id-on XXX }

   OpenIdFederationEntityId ::= UTF8String
</pre><a href="#section-6.7.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="publication-of-the-certificates-within-the-federation">
<section id="section-7">
      <h2 id="name-publication-of-the-certific">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-publication-of-the-certific" class="section-name selfRef">Publication of the Certificates within the Federation</a>
      </h2>
<p id="section-7-1">The X.509 Certificates issued by federation Immediate Superior Entities
pertaining to one or more Federation Entity Keys in control of their
Subordinates <span class="bcp14">MAY</span> publish this information by including the <code>x5c</code> member
in each JWK contained within the matching Subordinate Statement. The contents
of the published <code>x5c</code> member, including whether it contains a full or
partial Trust Chain, and if so, to what Trust Anchor, are policy decisions
out of scope for this document.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="certificate-lifecycle-and-revocation">
<section id="section-8">
      <h2 id="name-certificate-lifecycle-and-r">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-certificate-lifecycle-and-r" class="section-name selfRef">Certificate Lifecycle and Revocation</a>
      </h2>
<p id="section-8-1">The identity of the Requestor is verified through proof of possession of a
private key corresponding to a public key
attested within a Trust Chain. It is up to the Certificate Issuer to decide
the expiration time of the X.509 Certificate. In some cases, and when required,
it <span class="bcp14">MAY</span> be set to match the expiration of the Trust Chain.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">A Requestor <span class="bcp14">SHOULD</span> request the revocation of its X.509 Certificate when the related
cryptographic material is revoked. The Requestor <span class="bcp14">SHOULD</span> publish the revoked or
expired cryptographic keys in the Federation Historical Key Registry.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">The X.509 Certificate revocation request is defined in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-7.6" class="relref">Section 7.6</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="error-type">
<section id="section-9">
      <h2 id="name-errors">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-errors" class="section-name selfRef">Errors</a>
      </h2>
<p id="section-9-1">This document defines one new error type URI to be used in problem documents
<span>[<a href="#RFC9457" class="cite xref">RFC9457</a>]</span>, as described in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-6.7" class="relref">Section 6.7</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">The error type <code>urn:ietf:params:acme:error:openIDFederationEntity</code> can
be used to encapsulate any OAuth error code returned while resolving OpenID
Federation Entities. The title of this error type is "OpenID Federation Error".
The <code>detail</code> member of the problem document <span class="bcp14">MAY</span> include the description of the
particular OAuth error code that caused the error. The problem document for this
error type <span class="bcp14">SHOULD</span> include an extension member named <code>error_code</code>. The
<code>error_code</code> member <span class="bcp14">SHOULD</span> be set to the OAuth error code, taken from the IANA
"OAuth Extensions Error Registry" <span>[<a href="#IANA-OAUTH" class="cite xref">IANA-OAUTH</a>]</span>.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">The <code>openid-federation-01</code> challenge defined in <a href="#challenge-type" class="auto internal xref">Section 6.7</a> defends
against replay attacks by malicious ACME servers because the signature in
challenge responses is over an ACME key authorization, which binds the ACME
account key.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The cryptographic keys in the <code>acme_requestor</code> metadata <span class="bcp14">SHOULD NOT</span> be reused
for other purposes than signing responses to <code>acme-federation-01</code> challenges.
For example, the same keys <span class="bcp14">SHOULD NOT</span> be reused in the issued X.509 Certificate.
If the keys are reused for other purposes, cross-protocol attacks <span class="bcp14">MUST</span> be
considered.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">The cryptographic keys in the <code>acme_requestor</code> metadata <span class="bcp14">SHOULD</span> be rotated
periodically.<a href="#section-10-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">IANA is kindly asked to make the following updates to registries:<a href="#section-11-1" class="pilcrow">¶</a></p>
<div id="acme-registry-group">
<section id="section-11.1">
        <h3 id="name-acme-registry-group">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-acme-registry-group" class="section-name selfRef">ACME Registry Group</a>
        </h3>
<p id="section-11.1-1">The following updates are all assignments in the "Automated Certificate
Management Environment (ACME) Protocol" registry group <span>[<a href="#IANA-ACME" class="cite xref">IANA-ACME</a>]</span>.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<div id="acme-identifier-types">
<section id="section-11.1.1">
          <h4 id="name-acme-identifier-types">
<a href="#section-11.1.1" class="section-number selfRef">11.1.1. </a><a href="#name-acme-identifier-types" class="section-name selfRef">ACME Identifier Types</a>
          </h4>
<p id="section-11.1.1-1">IANA is asked to add to the "ACME Identifier Types" registry, defined in
<span><a href="https://rfc-editor.org/rfc/rfc8555#section-9.7.7" class="relref">Section 9.7.7</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>, the entry below, as specified here in
<a href="#identifier-type" class="auto internal xref">Section 6.5</a>:<a href="#section-11.1.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
            <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Label</th>
                <th class="text-left" rowspan="1" colspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">openid-federation</td>
                <td class="text-left" rowspan="1" colspan="1">this document</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="acme-validation-methods">
<section id="section-11.1.2">
          <h4 id="name-acme-validation-methods">
<a href="#section-11.1.2" class="section-number selfRef">11.1.2. </a><a href="#name-acme-validation-methods" class="section-name selfRef">ACME Validation Methods</a>
          </h4>
<p id="section-11.1.2-1">IANA is also asked to add to the "ACME Validation Methods" registry, defined
in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-9.7.8" class="relref">Section 9.7.8</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>, the entry below, as specified here
in <a href="#challenge-type" class="auto internal xref">Section 6.7</a>:<a href="#section-11.1.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
            <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Label</th>
                <th class="text-left" rowspan="1" colspan="1">Identifier Type</th>
                <th class="text-left" rowspan="1" colspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">openid-federation-01</td>
                <td class="text-left" rowspan="1" colspan="1">openid-federation</td>
                <td class="text-left" rowspan="1" colspan="1">this document</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
<div id="acme-error-types">
<section id="section-11.1.3">
          <h4 id="name-acme-error-types">
<a href="#section-11.1.3" class="section-number selfRef">11.1.3. </a><a href="#name-acme-error-types" class="section-name selfRef">ACME Error Types</a>
          </h4>
<p id="section-11.1.3-1">IANA is also asked to add to the "ACME Error Types" registry, defined
in <span><a href="https://rfc-editor.org/rfc/rfc8555#section-9.7.4" class="relref">Section 9.7.4</a> of [<a href="#RFC8555" class="cite xref">RFC8555</a>]</span>, the entry below, as specified here in
<a href="#error-type" class="auto internal xref">Section 9</a>:<a href="#section-11.1.3-1" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
            <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Type</th>
                <th class="text-left" rowspan="1" colspan="1">Description</th>
                <th class="text-left" rowspan="1" colspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">openIDFederationEntity</td>
                <td class="text-left" rowspan="1" colspan="1">An error occurred while resolving an OpenID Federation entity</td>
                <td class="text-left" rowspan="1" colspan="1">this document</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
<div id="assign-x509-pkix-other-name">
<section id="section-11.2">
        <h3 id="name-assign-x509-pkix-other-name">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-assign-x509-pkix-other-name" class="section-name selfRef">Assign X.509 PKIX Other Name</a>
        </h3>
<p id="section-11.2-1">IANA is asked to add to the "PKIX Other Name Forms" registry
(<a href="https://www.iana.org/assignments/smi-numbers/smi-numbers.xhtml#smi-numbers-1.3.6.1.5.5.7.8">1.3.6.1.5.5.7.8</a>) the entry below, as
specified here in <a href="#openidfed-othername-id" class="auto internal xref">Section 6.7.1</a><a href="#section-11.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-4">
          <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Decimal</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBA</td>
              <td class="text-left" rowspan="1" colspan="1">id-on-OpenIdFederationEntityId</td>
              <td class="text-left" rowspan="1" colspan="1">this document</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
</div>
<div id="sec-normative-references">
<section id="section-12">
      <h2 id="name-normative-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="IANA-ACME">[IANA-ACME]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Automated Certificate Management Environment (ACME) Protocol"</span>, <span>n.d.</span>, <span>&lt;<a href="https://www.iana.org/assignments/acme">https://www.iana.org/assignments/acme</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA-OAUTH">[IANA-OAUTH]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"OAuth Parameters"</span>, <span>n.d.</span>, <span>&lt;<a href="https://www.iana.org/assignments/oauth-parameters">https://www.iana.org/assignments/oauth-parameters</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OPENID-FED">[OPENID-FED]</dt>
      <dd>
<span class="refAuthor">Hedberg, R.</span>, <span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">Solberg, A. Å.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">De Marco, G.</span>, and <span class="refAuthor">V. Dzhuvinov</span>, <span class="refTitle">"OpenID Federation 1.0 - draft 41"</span>, <time datetime="2024-12-04" class="refDate">4 December 2024</time>, <span>&lt;<a href="https://openid.net/specs/openid-federation-1_0-41.html">https://openid.net/specs/openid-federation-1_0-41.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2986">[RFC2986]</dt>
      <dd>
<span class="refAuthor">Nystrom, M.</span> and <span class="refAuthor">B. Kaliski</span>, <span class="refTitle">"PKCS #10: Certification Request Syntax Specification Version 1.7"</span>, <span class="seriesInfo">RFC 2986</span>, <span class="seriesInfo">DOI 10.17487/RFC2986</span>, <time datetime="2000-11" class="refDate">November 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2986">https://www.rfc-editor.org/rfc/rfc2986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4086">[RFC4086]</dt>
      <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refAuthor">Schiller, J.</span>, and <span class="refAuthor">S. Crocker</span>, <span class="refTitle">"Randomness Requirements for Security"</span>, <span class="seriesInfo">BCP 106</span>, <span class="seriesInfo">RFC 4086</span>, <span class="seriesInfo">DOI 10.17487/RFC4086</span>, <time datetime="2005-06" class="refDate">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4086">https://www.rfc-editor.org/rfc/rfc4086</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4648">[RFC4648]</dt>
      <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5280">[RFC5280]</dt>
      <dd>
<span class="refAuthor">Cooper, D.</span>, <span class="refAuthor">Santesson, S.</span>, <span class="refAuthor">Farrell, S.</span>, <span class="refAuthor">Boeyen, S.</span>, <span class="refAuthor">Housley, R.</span>, and <span class="refAuthor">W. Polk</span>, <span class="refTitle">"Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile"</span>, <span class="seriesInfo">RFC 5280</span>, <span class="seriesInfo">DOI 10.17487/RFC5280</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5280">https://www.rfc-editor.org/rfc/rfc5280</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7515">[RFC7515]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7515">https://www.rfc-editor.org/rfc/rfc7515</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8555">[RFC8555]</dt>
      <dd>
<span class="refAuthor">Barnes, R.</span>, <span class="refAuthor">Hoffman-Andrews, J.</span>, <span class="refAuthor">McCarney, D.</span>, and <span class="refAuthor">J. Kasten</span>, <span class="refTitle">"Automatic Certificate Management Environment (ACME)"</span>, <span class="seriesInfo">RFC 8555</span>, <span class="seriesInfo">DOI 10.17487/RFC8555</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8555">https://www.rfc-editor.org/rfc/rfc8555</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9457">[RFC9457]</dt>
    <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">Wilde, E.</span>, and <span class="refAuthor">S. Dalal</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="seriesInfo">RFC 9457</span>, <span class="seriesInfo">DOI 10.17487/RFC9457</span>, <time datetime="2023-07" class="refDate">July 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9457">https://www.rfc-editor.org/rfc/rfc9457</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="contributors">
<section id="appendix-A">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">David Cook</span></div>
<div dir="auto" class="left"><span class="org">ISRG</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:divergentdave@gmail.com" class="email">divergentdave@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ameer Ghani</span></div>
<div dir="auto" class="left"><span class="org">ISRG</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:inahga@letsencrypt.org" class="email">inahga@letsencrypt.org</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">J.C. Jones</span></div>
<div dir="auto" class="left"><span class="org">ISRG</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ietf@insufficient.coffee" class="email">ietf@insufficient.coffee</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Giuseppe De Marco</span></div>
<div dir="auto" class="left"><span class="org">independent</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:demarcog83@gmail.com" class="email">demarcog83@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brandon Pitman</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bran@bran.land" class="email">bran@bran.land</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
